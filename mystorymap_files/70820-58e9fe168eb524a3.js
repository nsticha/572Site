"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[70820],{13156:function(e,t,n){n.d(t,{J_:function(){return p},Yy:function(){return l},ci:function(){return d},pt:function(){return c}});var o=n(98788),r=n(70865),i=n(96670),a=n(45680),s=n(172),c=function(){var e=(0,o.Z)((function(e){var t,n=arguments;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return t=!(n.length>1&&void 0!==n[1])||n[1],[4,s.H.insertNode(e,t)];case 1:return[2,o.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,o.Z)((function(e){return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,s.H.insertSubtree(e)];case 1:return[2,t.sent()]}}))}));return function(t){return e.apply(this,arguments)}}(),d=s.H.insertResource,p=function(){var e=(0,o.Z)((function(e){var t,n,o,c,l;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.data,n=e.mode,o=e.context,c=e.registry,l=(0,i.Z)((0,r.Z)({},o||{}),{storyData:t}),s.H.setRegistry(c),[4,s.H.build({data:t,mode:n,context:l})];case 1:return[2,a.sent()]}}))}));return function(t){return e.apply(this,arguments)}}()},26920:function(e,t,n){n.d(t,{E:function(){return o}});var o="app-authentication-registration"},86714:function(e,t,n){n.d(t,{Z:function(){return u}});var o=n(98788),r=n(45680),i=n(2784),a=n(70121),s=n(99939),c=n(66383),l=function(){var e=(0,o.Z)((function(e){var t,o,i,a,s,l,d,p,u;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:return t=e.authManager,o=e.clientId,i=e.portalHost,[4,Promise.all([Promise.all([n.e(44817),n.e(90791),n.e(37586),n.e(50035),n.e(40320),n.e(79027)]).then(n.bind(n,43701)),Promise.all([n.e(44817),n.e(90791),n.e(15330)]).then(n.bind(n,78394))])];case 1:return a=c.Z.apply(void 0,[r.sent(),2]),s=a[0],l=s.default,d=a[1],p=d.default,t&&t.token&&(u={expires:t.tokenExpires,token:t.token,userId:t.username,server:t.portal},l.registerToken(u)),l.useSignInPage=!1,l.registerOAuthInfos([new p({appId:o,portalUrl:"https://".concat(i),popup:!0,popupCallbackUrl:"/oauth-callback?isPopupLogin=true"})]),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),d=n(26920),p=(0,i.memo)((function(){var e=(0,a.Pc)().authManager,t=(0,s.ZR)(),c=t.OAUTH_CLIENT_ID,p=t.PORTAL_HOST;return(0,i.useEffect)((function(){var e=function(){var e=(0,o.Z)((function(e){var t;return(0,r.__generator)(this,(function(o){switch(o.label){case 0:return e.origin!==window.location.origin||e.data.method!==d.E||"string"!==typeof e.data.urlHash?[3,2]:[4,Promise.all([n.e(44817),n.e(90791),n.e(37586),n.e(50035),n.e(40320),n.e(79027)]).then(n.bind(n,43701))];case 1:t=o.sent(),t.default.setOAuthResponseHash(e.data.urlHash),o.label=2;case 2:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e,!1)}}),[]),(0,i.useEffect)((function(){l({authManager:e,clientId:c,portalHost:p})}),[]),null})),u=p},77104:function(e,t,n){var o=n(52322),r=n(19702),i=n.n(r),a=(n(2784),n(72779)),s=n.n(a),c=n(83768);t.Z=(0,c.w)((function(e){return e.storyContext.storyLogo?(0,o.jsxs)("a",{href:e.storyContext.storyLogo.link,target:"_blank",rel:"noreferrer noopener",className:i().dynamic([["668f7f16f109fb12",[e.maxHeight?e.maxHeight:"3.2rem",e.maxWidth?e.maxWidth:"12rem"]]])+" "+"story-logo".concat(e.className?" ".concat(e.className):""),children:[(0,o.jsx)("img",{src:e.storyContext.storyLogo.src,alt:e.storyContext.storyLogo.alt,loading:"lazy",className:i().dynamic([["668f7f16f109fb12",[e.maxHeight?e.maxHeight:"3.2rem",e.maxWidth?e.maxWidth:"12rem"]]])+" "+(s()({"is-svg":"svg"===e.storyContext.storyLogo.fileType},"story-logo-img")||"")}),(0,o.jsx)(i(),{id:"668f7f16f109fb12",dynamic:[e.maxHeight?e.maxHeight:"3.2rem",e.maxWidth?e.maxWidth:"12rem"],children:".story-logo.__jsx-style-dynamic-selector{line-height:0;display:inline-block}.is-svg.story-logo-img.__jsx-style-dynamic-selector{min-width:4rem}.story-logo-img.__jsx-style-dynamic-selector{max-height:".concat(e.maxHeight?e.maxHeight:"3.2rem",";max-width:").concat(e.maxWidth?e.maxWidth:"12rem","}")})]}):null}))},83584:function(e,t,n){n.d(t,{UV:function(){return u},HH:function(){return h}});var o=n(90581),r=n(21218),i=n(70865),a=n(39309),s=n(52322),c=n(2784),l=n(83708),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)window.history.replaceState({},"disable autoplay",(0,l.w3)(window.location.href,["play","speed"]));else if(e){var n=(0,l.Cn)(window.location.href,{play:"true",speed:e});window.history.replaceState({},"update autoplay speed",n)}},p=(0,c.createContext)({isAutoplayEnabled:!1,isAutoplayPaused:!1,autoplaySpeed:"medium",enableAutoplay:function(){},disableAutoplay:function(){},updateAutoplaySpeed:function(){},updateIsAutoplayPaused:function(){}}),u=function(e){var t=e.children,n=e.initialQuery,o=(0,c.useState)(!1),r=o[0],i=o[1],a=(0,c.useState)("medium"),u=a[0],h=a[1],m=(0,c.useState)(!0),g=m[0],f=m[1];(0,c.useEffect)((function(){var e=(0,l.C6)(n),t=(0,l.g8)(n);i(e),h(t),e&&d(t)}),[n]);return(0,s.jsx)(p.Provider,{value:{isAutoplayEnabled:r,isAutoplayPaused:g,autoplaySpeed:u,enableAutoplay:function(){i(!0),d(u)},disableAutoplay:function(){i(!1),h("medium"),d(void 0,!0)},updateAutoplaySpeed:function(e){h(e),d(e)},updateIsAutoplayPaused:function(e){f(e)}},children:t})},h=function(e){return function(t){(0,r.Z)(c,t);var n=(0,a.Z)(c);function c(){return(0,o.Z)(this,c),n.apply(this,arguments)}return c.prototype.render=function(){var t=this;return(0,s.jsx)(p.Consumer,{children:function(n){return(0,s.jsx)(e,(0,i.Z)({},t.props,n))}})},c}(c.PureComponent)}},80326:function(e,t,n){n.d(t,{Z:function(){return E}});var o=n(90581),r=n(21218),i=n(70865),a=n(96670),s=n(39309),c=n(52322),l=n(19702),d=n.n(l),p=n(2784),u=n(89274),h=n(72779),m=n.n(h),g=n(50336),f=n(14979),y=n(61355),b=n(75848),x=n(27480),v=n(45345),Z=n(37873),C=n(60508),j=n(39010),w=n(77104),k=n(71216),P=n(18288),_=n(94764),I=n(32575),N=n(60120),T=n(75117),S=n(82930),F=n(2715),L=n(28888),D=n(22045),H=n(42841),O=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).onClick=function(t){var n;n="next"===("next"===t.currentTarget.id?"next":"previous")?e.props.collectionDisplay.currentIndex+1:e.props.collectionDisplay.currentIndex-1,e.props.collectionDisplay.updateCollectionDisplay({currentIndex:n}),H.Z.trackEvent(H.Z.Category.Collection,H.Z.Action.Collection_Present_Navigate,H.Z.Name.Collection_Present_Navigate_Arrow)},e}return n.prototype.render=function(){var e=this.props.collectionData.titlesArray;if(!e)return null;var t=this.props.collectionDisplay.currentIndex,n=e.length,o=e[t-1]||"",r=n&&t<n?t<9?"0".concat(t+1):t+1:"0",i=e[t+1]||"",a=n<10?"0".concat(n):n,s=(0,L.p)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme});return(0,c.jsxs)("div",{className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]])+" arrow-button-container",children:[(0,c.jsx)(y.Z,{tooltipContent:t>0?o:"",disabled:0===t,children:(0,c.jsx)("button",{id:"previous",onClick:this.onClick,disabled:0===t,type:"button","aria-label":this.props.intl.formatMessage({id:"common.previous"}),className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]])+" arrow-button",children:(0,c.jsx)(x.Z,{path:f.AUw,size:16,shouldFlipRTL:!0})})}),(0,c.jsxs)("h6",{className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]])+" content-progress",children:[(0,c.jsx)("span",{className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]]),children:r}),(0,c.jsx)("span",{className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]]),children:"/"}),(0,c.jsx)("span",{className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]]),children:a})]}),(0,c.jsx)(y.Z,{tooltipContent:t<n-1?i:"",disabled:t>=n-1,children:(0,c.jsx)("button",{id:"next",onClick:this.onClick,disabled:t>=n-1,type:"button","aria-label":this.props.intl.formatMessage({id:"common.next"}),className:d().dynamic([["66ac1a5df3994f03",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()]]])+" "+(m()("arrow-button",{disabled:0===t})||""),children:(0,c.jsx)(x.Z,{path:f.o5H,size:16,shouldFlipRTL:!0})})}),(0,c.jsx)(d(),{id:"66ac1a5df3994f03",dynamic:[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),v.ZP.center(),s.defaultBackgroundColor,s.defaultForegroundColor,v.ZP.circle(Z.Z.spacing.xs),s.hoverBackgroundColor,s.hoverForegroundColor,D._.userIsNotTabbing,s.disabledForegroundColor,s.defaultForegroundColor,v.ZP.typography.blockReg()],children:".arrow-button-container.__jsx-style-dynamic-selector{".concat(v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),";}.content-progress.__jsx-style-dynamic-selector{").concat(v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),";text-align:center}.arrow-button.__jsx-style-dynamic-selector{").concat(v.ZP.center(),"\n            background-color: ").concat(s.defaultBackgroundColor,";color:").concat(s.defaultForegroundColor,";").concat(v.ZP.circle(Z.Z.spacing.xs),";}.arrow-button.__jsx-style-dynamic-selector:not([disabled]):hover{background-color:").concat(s.hoverBackgroundColor,";color:").concat(s.hoverForegroundColor,"}").concat(D._.userIsNotTabbing," .arrow-button.__jsx-style-dynamic-selector:focus{outline:none}.arrow-button[disabled].__jsx-style-dynamic-selector{color:").concat(s.disabledForegroundColor,";cursor:not-allowed}h6.__jsx-style-dynamic-selector{color:").concat(s.defaultForegroundColor,";").concat(v.ZP.typography.blockReg(),"\n          }")})]})},n}(p.PureComponent),A=(0,j.EL)((0,_.p)((0,u.ZP)((0,k.Fv)(O)))),z=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).renderToggle=function(t,n,o){var r=t?f.oCz:f.hqJ,i=e.props.intl.formatMessage({id:t?"component.collections.closeOverview":"component.collections.openOverview"}),a={styles:(0,c.jsx)(d(),{id:"ed13081fa163881d",dynamic:[n,o],children:".toggle-button.toggle-view.__jsx-style-dynamic-selector{color:inherit}.toggle-button.toggle-view.__jsx-style-dynamic-selector:not([disabled]):hover>*{background-color:".concat(n,"}.toggle-button.toggle-view.__jsx-style-dynamic-selector:not([disabled]):active>*{background-color:").concat(o,"}")}),className:d().dynamic([["ed13081fa163881d",[n,o]]])};return(0,c.jsx)(y.Z,{tooltipContent:i,children:(0,c.jsxs)(b.ZP,{role:"navigation",type:"single-icon",iconSize:24,onClick:e.toggleView,ariaLabel:i,className:m()("toggle-button toggle-view",a.className),children:[(0,c.jsx)(x.Z,{path:r}),a.styles]})})},e.toggleView=function(){e.props.collectionDisplay.updateCollectionDisplay({isCoverShowing:!e.props.collectionDisplay.isCoverShowing})},e}var l=n.prototype;return l.componentDidMount=function(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:Number((0,g.wA)(T.g))}})},l.componentDidUpdate=function(e){if(this.props.storyDesign.themeVariables.headerFooterBackgroundColor!==e.storyDesign.themeVariables.headerFooterBackgroundColor){var t=(0,I.nA)(this.props.storyDesign.themeVariables.headerFooterBackgroundColor);this.props.websiteDesign.updateWebsiteTheme(t)}},l.componentWillUnmount=function(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:0}})},l.render=function(){var e,t,n=this.props.isViewportMinWidth("medium"),o=this.props.isViewportMaxWidth("medium"),r="compact"===this.props.collectionData.navigationType,s=this.props.collectionDisplay,l=s.isCoverShowing,p=s.currentIndex,u=l||null===(t=(e=this.props).getItemHref)||void 0===t?void 0:t.call(e,p),h=!l&&n&&!this.props.isPortrait,m=l&&!this.props.isOrgItem,g=!l&&(r||o),f={styles:(0,c.jsx)(d(),{id:"bce94b96452b000b",children:".three-column-header.jsx-bce94b96452b000b{grid-template-columns:2fr 1fr 2fr}.three-column-header.jsx-bce94b96452b000b .end-content{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}"}),className:"jsx-bce94b96452b000b"},y=g?"three-column-header ".concat(f.className):void 0,b=p>=0,x=b&&(h||m),C=(0,L.O)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme}),j=C.separatorColor,k=C.hoverBackgroundColor,P=C.activeBackgroundColor;return(0,c.jsxs)(S.Z,(0,a.Z)((0,i.Z)({},this.props),{contentClassName:y,itemHref:u,children:[(0,c.jsxs)("div",{className:d().dynamic([["d0b246c634a9281",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"start"}),j]]])+" start-content",children:[b&&this.renderToggle(l,k,P),x&&(0,c.jsx)("div",{className:d().dynamic([["d0b246c634a9281",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"start"}),j]]])+" pipe"}),h&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(w.Z,{}),(0,c.jsx)(F.Z,{title:this.props.title,itemType:N.o.Collection})]}),m&&this.props.appLogo]}),g&&(0,c.jsx)("div",{className:d().dynamic([["d0b246c634a9281",[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"start"}),j]]])+" arrow-container",children:(0,c.jsx)(A,{})}),f.styles,(0,c.jsx)(d(),{id:"d0b246c634a9281",dynamic:[v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"start"}),j],children:".start-content.__jsx-style-dynamic-selector{".concat(v.ZP.gapped({direction:"horizontal",gap:Z.Z.spacing.xxs,alignItems:"center",justifyContent:"start"}),";}.pipe.__jsx-style-dynamic-selector{height:3.6rem;width:1px;background-color:").concat(j,"}")})]}))},n}(p.Component),E=(0,_.p)((0,u.ZP)((0,k.Fv)((0,C.VO)((0,P.Jh)((0,j.EL)(z))))))},34020:function(e,t,n){n.d(t,{Z:function(){return xe}});var o=n(98788),r=n(26297),i=n(45680),a=n(52322),s=n(19702),c=n.n(s),l=n(2784),d=n(72779),p=n.n(d),u=n(60508),h=n(70121),m=n(37873),g=n(45345),f=n(17236),y=n(43438),b=n(99939),x=n(58650),v=n(31274),Z=n(66017),C=n(35630),j=n(90581),w=n(21218),k=n(50930),P=n(39309),_=n(42670),I=n(14979),N=n(6403),T=n(61355),S=n(27480),F=n(99847),L=n(37598),D=n(42841),H=n(34084),O=n(9920),A=n(52297),z=n(99466),E=n(60120),M=n(83584),B=n(39010),U=n(75848),V=n(71216),R=n(2305),W=n(28888),J=function(e){var t=(0,V.XL)(),n=(0,B.Fj)().theme,o=(0,R.Z)(),r="cover"===e.location?"story":void 0,i=(0,W.O)({themeVariables:t,websiteTheme:n,flavor:r}),s=o(e.tooltipId),l={styles:(0,a.jsx)(c(),{id:"2a853fbfbe34bcfd",dynamic:[e.id,i.foregroundColor,i.backgroundColor,e.id,i.hoverBackgroundColor,e.id,i.activeForegroundColor,i.activeBackgroundColor,e.id,i.separatorColor],children:".".concat(e.id,".themed.__jsx-style-dynamic-selector>*{color:").concat(i.foregroundColor,";background-color:").concat(i.backgroundColor,"}.").concat(e.id,".themed.__jsx-style-dynamic-selector:not(.disabled):hover>*{background-color:").concat(i.hoverBackgroundColor,"}.").concat(e.id,".themed.__jsx-style-dynamic-selector:not(.disabled):is(:active,.active,.active:hover)>*{color:").concat(i.activeForegroundColor,";background-color:").concat(i.activeBackgroundColor,"}.").concat(e.id,".themed.disabled.__jsx-style-dynamic-selector>*{color:").concat(i.separatorColor,"}")}),className:c().dynamic([["2a853fbfbe34bcfd",[e.id,i.foregroundColor,i.backgroundColor,e.id,i.hoverBackgroundColor,e.id,i.activeForegroundColor,i.activeBackgroundColor,e.id,i.separatorColor]]])},d=(0,a.jsxs)(U.ZP,{type:"single-icon",className:p()(e.id,"themed",l.className),isActive:e.isActive,ariaLabel:s,disabled:e.isDisabled,onClick:e.onClick,children:[(0,a.jsx)(S.Z,{path:e.iconPath,size:16}),l.styles]});return e.isDisabled?d:(0,a.jsx)(T.Z,{tooltipContent:s,children:d})},Y=function(e){(0,w.Z)(n,e);var t=(0,P.Z)(n);function n(){return(0,j.Z)(this,n),t.apply(this,arguments)}return n.prototype.render=function(){return(0,a.jsxs)(F.Z.Item,{isFullWidth:!0,onClick:this.props.onClick,link:this.props.link,children:[(0,a.jsxs)("div",{className:c().dynamic([["f4579d520c00f378",[m.Z.spacing.xs]]])+" menu-item",children:[(0,a.jsx)(S.Z,{size:16,path:this.props.iconPath}),(0,a.jsx)("p",{className:c().dynamic([["f4579d520c00f378",[m.Z.spacing.xs]]]),children:this.props.text}),this.props.appendedUI]}),(0,a.jsx)(c(),{id:"f4579d520c00f378",dynamic:[m.Z.spacing.xs],children:".menu-item.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}p.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-margin-start:".concat(m.Z.spacing.xs,";-moz-margin-start:").concat(m.Z.spacing.xs,";margin-inline-start:").concat(m.Z.spacing.xs,"}")})]})},n}(l.PureComponent),Q=Y,q="storyViewerEditNudge",X="collectionViewerEditNudge",$=function(e){(0,w.Z)(n,e);var t=(0,P.Z)(n);function n(e){var o;return(0,j.Z)(this,n),(o=t.call(this,e)).renderTarget=function(){return(0,a.jsx)(N.Z,{target:(0,a.jsx)(J,{id:"context-menu-btn",tooltipId:"common.moreActions",iconPath:I.w7O,isActive:o.state.isMenuOpen,location:o.props.location}),title:(0,a.jsx)(_.Z,{id:o.props.storyType===E.o.Story?"component.builderHeader.separateHeaders.story.nudge.title":"component.builderHeader.separateHeaders.collection.nudge.title"}),text:(0,a.jsx)(_.Z,{id:"component.builderHeader.separateHeaders.story.nudge.description"}),placement:"bottom",isShowing:o.props.canEdit&&!!o.props.canShowEditButtonNudge&&!o.state.hasSeenEditButtonNudge,onClick:o.onNudgeDismissed})},o.getEditContent=function(){return(0,a.jsx)(O.e,{routeDef:{route:"builder",itemId:o.props.storyId,itemType:o.props.storyType},children:(0,a.jsx)(Q,{text:(0,a.jsx)(_.Z,{id:o.props.storyType===E.o.Story?"component.viewerHeader.edit":"component.myCollections.builder.edit"}),appendedUI:o.props.publishIndicator&&(0,a.jsx)("div",{className:"indicator-container",children:o.props.publishIndicator}),iconPath:I.YVc})},"edit")},o.getEmbedContent=function(){return(0,a.jsx)(Q,{iconPath:I.TCp,text:(0,a.jsx)(_.Z,{id:o.props.storyType===E.o.Story?"builder.embed.embedStory":"builder.embed.embedCollection"}),onClick:o.onEmbedClicked},"embed-story")},o.getOpenItemContent=function(e){return(0,a.jsx)(Q,{iconPath:I.D9y,text:(0,a.jsx)(_.Z,{id:"builder.common.openNewTab"}),link:{href:e,openInNewPage:!0}},"open-item-in-new-tab")},o.onClickAutoplay=function(){var e="collection"===o.props.storyType?D.Z.Name.Viewer_Autoplay_Collection:D.Z.Name.Viewer_Autoplay_Story;D.Z.trackEvent(D.Z.Category.Viewer,D.Z.Action.Viewer_Autoplay,e),o.props.enableAutoplay()},o.getAutoplayContent=function(){return o.props.isAutoplayEnabled?(0,a.jsx)(Q,{onClick:o.props.disableAutoplay,iconPath:I.O0U,text:(0,a.jsx)(_.Z,{id:"component.viewerHeader.storySettings.disable.autoplay"})},"disable-autoplay"):(0,a.jsx)(Q,{onClick:o.onClickAutoplay,iconPath:I.O0U,text:(0,a.jsx)(_.Z,{id:"component.viewerHeader.storySettings.enable.autoplay"})},"enable-autoplay")},o.getPrintPreviewContent=function(){return(0,a.jsx)(Q,{onClick:o.onRequestPrint,iconPath:I.jFQ,text:(0,a.jsx)(_.Z,{id:"common.printPreview"}),appendedUI:(0,a.jsx)(T.Z,{triggers:["mouseenter","focusin","click"],touch:!0,tooltipContent:(0,a.jsx)(_.Z,{id:"common.printPreview.tooltip"}),children:(0,a.jsx)(S.Z,{path:I.vyt,size:16,color:m.Z.color.deepLilac})})},"print-preview")},o.onRequestPrint=function(){window.location.href=o.props.storyRouting.getUrlFromRouteDef({route:"view"===o.props.mode?"story-published-print":"story-preview-print",itemId:o.props.storyId})},o.getReportAbuseContent=function(){if(o.props.featureDecisions.canReportAbuse){var e=(0,A.j5)({getUrlFromRouteDef:o.props.storyRouting.getUrlFromRouteDef});if(e)return(0,a.jsx)(Q,{iconPath:I.GdI,text:(0,a.jsx)(_.Z,{id:"component.viewerHeader.storySettings.reportAbuse"}),link:{href:e,openInNewPage:!0}},"report-abuse")}},o.onEmbedClicked=function(){var e,t;null===(t=(e=o.props).onEmbedClicked)||void 0===t||t.call(e)},o.onNudgeDismissed=function(){o.setState({hasSeenEditButtonNudge:!0}),(0,z.s)({id:o.props.storyType===E.o.Story?q:X,value:!0})},o.state={hasSeenEditButtonNudge:!!(0,z.n)({id:o.props.storyType===E.o.Story?q:X}),isMounted:!1,isMenuOpen:!1},o}var o=n.prototype;return o.componentDidMount=function(){this.setState({isMounted:!0})},o.render=function(){var e=this,t=[];if(this.props.canEdit&&this.props.isViewportMinWidth("large")){var n=this.getEditContent();t.push(n)}var o=[];if(this.props.favoriteContent&&o.push(this.props.favoriteContent),this.state.isMounted&&this.props.isViewportMinWidth("medium")){var r=this.getAutoplayContent();o.push(r)}if(this.state.isMounted&&this.props.isViewportMinWidth("medium")&&this.props.storyType===E.o.Story){var i=this.getPrintPreviewContent();o.push(i)}if(this.props.storyType===E.o.Collection&&"string"===typeof this.props.itemHref){var s=this.getOpenItemContent(this.props.itemHref);o.push(s)}if(this.props.onEmbedClicked){var c=this.getEmbedContent();o.push(c)}t.length>0&&o.length>0&&t.push((0,a.jsx)(F.Z.Divider,{},"edit-divider")),t=(0,k.Z)(t).concat((0,k.Z)(o));var l=this.getReportAbuseContent();return l&&t.push(l),0===t.length?null:(0,a.jsx)(L.Z,{target:this.renderTarget(),popper:(0,a.jsx)(F.Z,{disabled:"embedded-preview"===this.props.mode,children:t}),placement:"bottom-end",onShow:function(){return e.setState({isMenuOpen:!0})},onHide:function(){return e.setState({isMenuOpen:!1})}})},n}(l.PureComponent),G=(0,H.Jy)((0,u.VO)((0,y.oh)((0,M.HH)($)))),K=function(e){var t=e.isFavorite,n=(0,r.Z)(e,["isFavorite"]);return(0,a.jsx)(J,{id:"fav-btn",tooltipId:t?"common.removeFavorite":"common.addFavorite",onClick:t?n.onUnfavoriteClicked:n.onFavoriteClicked,iconPath:t?I.eF_:I.$nZ,location:n.location})},ee=function(e){var t=e.onFavoriteClicked,n=e.onUnfavoriteClicked,o=e.isFavorite;return(0,a.jsx)(Q,{onClick:o?n:t,iconPath:o?I.eF_:I.$nZ,text:(0,a.jsx)(_.Z,{id:o?"common.removeFavorite":"common.addFavorite"})})},te=n(13706),ne=n(79295),oe=n(83708),re=n(37460),ie=n(6e3),ae=["play","speed","cover","header"],se=function(e,t){var n=window.open(e,"","toolbar=0,status=0,width=626,height=436");n&&(n.opener=null),D.Z.trackEvent(D.Z.Category.Story,D.Z.Action.Story_SocialShare,t)},ce=function(){var e=(0,o.Z)((function(e){var t,n,o;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:t=e.url,n=e.toast,o=e.itemType,r.label=1;case 1:if(r.trys.push([1,3,,4]),!t)throw new Error("empty url");return[4,(0,ie.vQ)(t)];case 2:return r.sent(),n.add({type:"success",title:(0,a.jsx)(_.Z,{id:"component.socialSharing.linkSuccess"}),details:(0,a.jsx)(_.Z,{id:"component.socialSharing.".concat(o,".linkCopied")})}),[3,4];case 3:return r.sent(),n.add({type:"error",title:(0,a.jsx)(_.Z,{id:"builder.common.sorry"}),details:(0,a.jsx)(_.Z,{id:"viewer.".concat(o,".copyToClipboard.fail.description")})}),[3,4];case 4:return D.Z.trackEvent(D.Z.Category.Story,D.Z.Action.Story_SocialShare,D.Z.Name.Story_SocialShare_Link),[2]}}))}));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=(0,o.Z)((function(e){var t,n;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return t=e.longUrl,e.shouldUseShortUrl?[4,(0,oe.OA)(t)]:[3,2];case 1:return n=o.sent()||t,[3,3];case 2:n=t,o.label=3;case 3:return[2,n]}}))}));return function(t){return e.apply(this,arguments)}}(),de=n(70865),pe=n(96670),ue=n(81799),he=function(e){(0,w.Z)(n,e);var t=(0,P.Z)(n);function n(e){(0,j.Z)(this,n);return t.call(this,e,{iconName:"facebook",path:"M15.3214286,8.25 L13.8214286,8.25 C13.5964286,8.25 13.0714286,8.604 13.0714286,9 L13.0714286,10.5 L15.3214286,10.5 L15.3214286,12.75 L13.0714286,12.75 L13.0714286,18 L10.8214286,18 L10.8214286,12.75 L8.57142857,12.75 L8.57142857,10.5 L10.8214286,10.5 L10.8214286,9 C10.8214286,7.3455 12.2921786,6 13.8679286,6 L15.3214286,6 L15.3214286,8.25 Z",viewBox:"6 6 12 12"})}return n}(ue.J),me=function(e){(0,w.Z)(n,e);var t=(0,P.Z)(n);function n(e){(0,j.Z)(this,n);return t.call(this,e,{iconName:"twitter",path:"M24.0634375,2.315 C23.178125,2.7075 22.226875,2.9728125 21.228125,3.091875 C22.2471875,2.4809375 23.0303125,1.5134375 23.3984375,0.36125 C22.4446875,0.926875 21.3878125,1.338125 20.26375,1.55875 C19.3634375,0.6 18.0803125,0 16.6603125,0 C13.9340625,0 11.7234375,2.21 11.7234375,4.936875 C11.7234375,5.3234375 11.7671875,5.700625 11.8515625,6.0621875 C7.7484375,5.85625 4.1109375,3.890625 1.6759375,0.9034375 C1.2509375,1.6328125 1.0075,2.48125 1.0075,3.385625 C1.0075,5.0984375 1.8790625,6.6090625 3.20375,7.4946875 C2.3946875,7.46875 1.6334375,7.2465625 0.9678125,6.8771875 C0.9671875,6.8978125 0.9671875,6.918125 0.9671875,6.939375 C0.9671875,9.330625 2.66875,11.3259375 4.926875,11.78 C4.5128125,11.8921875 4.076875,11.9528125 3.6265625,11.9528125 C3.308125,11.9528125 2.9990625,11.9221875 2.6975,11.864375 C3.325625,13.8253125 5.14875,15.253125 7.3090625,15.293125 C5.619375,16.616875 3.4909375,17.4065625 1.1778125,17.4065625 C0.779375,17.4065625 0.3865625,17.3834375 0,17.3375 C2.1846875,18.738125 4.7796875,19.555 7.5675,19.555 C16.648125,19.555 21.61375,12.0328125 21.61375,5.5096875 C21.61375,5.2959375 21.60875,5.0825 21.599375,4.8703125 C22.5646875,4.1746875 23.401875,3.305 24.0634375,2.315 Z",viewBox:"0 0 24 20"})}return n}(ue.J),ge=function(e){(0,w.Z)(n,e);var t=(0,P.Z)(n);function n(e){(0,j.Z)(this,n);return t.call(this,e,{iconName:"linked-in",path:"M10.7879181,5.80805242 C13.1907209,5.80805242 13.6337454,7.38855339 13.6337454,9.44468638 L13.6327576,13.633014 L11.262058,13.633014 L11.262058,9.92031839 C11.262058,9.03499089 11.2462533,7.89530152 10.0290472,7.89530152 C8.79430785,7.89530152 8.60539272,8.85990102 8.60539272,9.85586359 L8.60539272,13.632767 L6.23469309,13.632767 L6.23469309,5.99795949 L8.51056474,5.99795949 L8.51056474,7.04133708 L8.54242102,7.04133708 C9.00648414,6.24786461 9.86935231,5.77395524 10.7879181,5.80805242 Z M4.74510349,5.99795949 L4.74510349,13.633014 L2.37193437,13.633014 L2.37193437,5.99795949 L4.74510349,5.99795949 Z M3.55925979,2.20278154 C4.31906365,2.20264517 4.93511696,2.8184908 4.93525338,3.57831127 C4.93531885,3.94318994 4.79043735,4.29315015 4.53248112,4.55120465 C4.27452489,4.80925915 3.92462436,4.95426944 3.55975367,4.95433496 C2.7999498,4.95447131 2.18389652,4.33862567 2.18376011,3.57880519 C2.18362375,2.81898472 2.79945592,2.20291795 3.55925979,2.20278154 Z",viewBox:"0 2 16 11"})}return n}(ue.J),fe=function(e){var t=e.appTitle,n=e.itemUrl,o=e.onCopyLinkClick,r=(0,R.Z)(),i=(0,b.ZR)(),s=i.TWITTER_HASHTAGS,l=i.TWITTER_HANDLE,d={verticalAlignment:"unset",color:m.Z.color.white,width:m.Z.spacing.xxs,height:m.Z.spacing.xxs},u={styles:(0,a.jsx)(c(),{id:"ed966081b73b99fc",children:".facebook.jsx-ed966081b73b99fc{-webkit-transform:scale(.8)translateY(.2rem);-moz-transform:scale(.8)translateY(.2rem);-ms-transform:scale(.8)translateY(.2rem);-o-transform:scale(.8)translateY(.2rem);transform:scale(.8)translateY(.2rem)}.twitter.jsx-ed966081b73b99fc{-webkit-transform:scale(.59)translate(.005rem,.005rem);-moz-transform:scale(.59)translate(.005rem,.005rem);-ms-transform:scale(.59)translate(.005rem,.005rem);-o-transform:scale(.59)translate(.005rem,.005rem);transform:scale(.59)translate(.005rem,.005rem)}"}),className:"jsx-ed966081b73b99fc"};return(0,a.jsxs)(F.Z,{children:[(0,a.jsx)(F.Z.Item,{icon:(0,a.jsx)(S.Z,{path:I.Ik3,size:16}),onClick:o,children:r("common.copyLink")},"copy-link"),(0,a.jsx)(F.Z.Item,{icon:(0,a.jsx)("div",{className:c().dynamic([["5b2d2ca3ee9db446",[g.ZP.center(),m.Z.spacing.xxxxxs]]])+" circle facebook-field",children:(0,a.jsx)(he,(0,pe.Z)((0,de.Z)({},d),{className:p()("facebook",u.className)}))}),onClick:function(){return function(e){var t=e||(0,oe.w3)(window.location.href,ae);se("https://www.facebook.com/sharer/sharer.php?u=".concat(t),D.Z.Name.Story_SocialShare_Facebook)}(n)},children:r("common.facebook")},"facebook"),(0,a.jsx)(F.Z.Item,{icon:(0,a.jsx)("div",{className:c().dynamic([["5b2d2ca3ee9db446",[g.ZP.center(),m.Z.spacing.xxxxxs]]])+" circle twitter-field",children:(0,a.jsx)(me,(0,pe.Z)((0,de.Z)({},d),{className:p()("twitter",u.className)}))}),onClick:function(){return function(e){var t=e.appTitle,n=e.itemUrl,o=e.hashtags,r=e.handle,i=n||(0,oe.w3)(window.location.href,ae),a=o?"&hashtags=".concat(o):"",s=r?"&via=".concat(r):"",c="text=".concat(t,"&url=").concat(i).concat(a).concat(s);se("https://twitter.com/intent/tweet?".concat(c),D.Z.Name.Story_SocialShare_Twitter)}({appTitle:t,itemUrl:n,hashtags:s,handle:l})},children:r("common.twitter")},"twitter"),(0,a.jsx)(F.Z.Item,{icon:(0,a.jsx)("div",{className:c().dynamic([["5b2d2ca3ee9db446",[g.ZP.center(),m.Z.spacing.xxxxxs]]])+" circle linkedin-field",children:(0,a.jsx)(ge,(0,de.Z)({},d))}),onClick:function(){return function(e){var t=e||(0,oe.w3)(window.location.href,ae);se("https://www.linkedin.com/sharing/share-offsite/?url=".concat(t),D.Z.Name.Story_SocialShare_LinkedIn)}(n)},children:r("common.linkedIn")},"linkedIn"),(0,a.jsx)(c(),{id:"5b2d2ca3ee9db446",dynamic:[g.ZP.center(),m.Z.spacing.xxxxxs],children:".circle.__jsx-style-dynamic-selector{-webkit-border-radius:50%;-moz-border-radius:50%;border-radius:50%;display:inline-block;".concat(g.ZP.center(),"\n        }.facebook-field.__jsx-style-dynamic-selector{background-color:#1877f2}.twitter-field.__jsx-style-dynamic-selector{background-color:#1b9df0}.linkedin-field.__jsx-style-dynamic-selector{background-color:#0a66c2;-webkit-border-radius:").concat(m.Z.spacing.xxxxxs,";-moz-border-radius:").concat(m.Z.spacing.xxxxxs,";border-radius:").concat(m.Z.spacing.xxxxxs,"}")}),u.styles]})},ye=function(e){(0,w.Z)(n,e);var t=(0,P.Z)(n);function n(e){var r;(0,j.Z)(this,n),(r=t.call(this,e)).clipboardUrl="";var a=(0,te.Z)(r);r.getClipboardUrl=(0,o.Z)((function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e=!a.props.environment.isPortal,[4,le({longUrl:a.longUrl,shouldUseShortUrl:e})];case 1:return t=n.sent(),a.clipboardUrl=t,[2]}}))}));var s=(0,te.Z)(r);return r.onLinkClick=(0,o.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,ce({url:s.clipboardUrl||s.longUrl,toast:s.props.toast,itemType:s.props.itemType})];case 1:return e.sent(),[2]}}))})),r.state={isMenuOpen:!1},r}var r=n.prototype;return r.componentDidMount=function(){this.longUrl=(0,oe.w3)(window.location.href,ae)},r.componentDidUpdate=function(){this.longUrl!==(0,oe.w3)(window.location.href,ae)&&(this.clipboardUrl="")},r.render=function(){var e=this;return(0,a.jsx)(L.Z,{target:(0,a.jsx)(J,{id:"social-sharing-btn",tooltipId:this.props.tooltipId||"common.shareItem",iconPath:I.AXQ,isDisabled:this.props.isDisabled,isActive:this.state.isMenuOpen,location:this.props.location}),popper:(0,a.jsx)(fe,{appTitle:this.props.appTitle,onCopyLinkClick:this.onLinkClick}),onShow:function(){e.clipboardUrl||e.getClipboardUrl(),e.setState({isMenuOpen:!0})},onHide:function(){return e.setState({isMenuOpen:!1})},placement:"bottom-end"})},n}(l.PureComponent),be=(0,re.op)((0,ne.ZP)(ye)),xe=function(e){var t=e.storyId,n=e.sharingLevel,s=e.canEdit,d=void 0!==s&&s,j=e.areSocialIconsHidden,w=e.isContextMenuHidden,k=void 0!==w&&w,P=e.onFavoriteClicked,_=e.onUnfavoriteClicked,I=e.storyType,N=e.mode,T=e.location,S=(0,r.Z)(e,["storyId","sharingLevel","canEdit","areSocialIconsHidden","isContextMenuHidden","onFavoriteClicked","onUnfavoriteClicked","storyType","mode","location"]),F=(0,f.xR)(),L=(0,y.bd)(),D=(0,u.uw)().isViewportMinWidth,H=(0,h.Pc)().authManager,O=(0,b.ZR)().VIEWER_ACTIONS_LOCATION,A=(0,l.useState)(!1),z=A[0],E=A[1],M=(0,l.useState)(!1),B=M[0],U=M[1];(0,l.useEffect)((function(){var e=function(){var e=(0,o.Z)((function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return(e=!!H)?[4,(0,x.WQ)(t,H)]:[3,2];case 1:e=n.sent(),n.label=2;case 2:return E(e),[2]}}))}));return function(){return e.apply(this,arguments)}}();e()}),[]);var V=function(){return!!H&&"preview"!==N&&"embedded-preview"!==N&&!!P&&!!_},R=function(){var e=(0,o.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,null===P||void 0===P?void 0:P()];case 1:return e.sent(),E(!0),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,o.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,null===_||void 0===_?void 0:_()];case 1:return e.sent(),E(!1),[3,3];case 2:return e.sent(),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),J=function(){return U((function(e){return!e}))},Y=function(){return"cover"===O?!F&&V():!k&&!F&&V()&&D("small")},Q=L.canShareSocially&&!j&&n.access===v.eJ.PUBLIC&&D("large"),q=!k&&!F&&"preview"!==N,X=!j&&n.access===v.eJ.PUBLIC,$=Y()||Q||q,te={styles:(0,a.jsx)(c(),{id:"290d2dd45d79894a",dynamic:[m.Z.spacing.xxxxs],children:".indicator-container.__jsx-style-dynamic-selector{margin:".concat(m.Z.spacing.xxxxs,"}")}),className:c().dynamic([["290d2dd45d79894a",[m.Z.spacing.xxxxs]]])};return $?(0,a.jsxs)("div",{className:c().dynamic([["ed2f3967072c1399",[g.ZP.gapped({direction:"horizontal",gap:m.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"})]]])+" item-viewer-actions-container",children:[Y()&&(0,a.jsx)(K,{onFavoriteClicked:R,onUnfavoriteClicked:W,isFavorite:z,location:T}),Q&&(0,a.jsx)(be,{appTitle:S.title,itemType:I,isDisabled:"embedded-preview"===N||"preview"===N,tooltipId:S.socialSharingTooltipId,location:T}),q&&(0,a.jsx)(G,{favoriteContent:"header"===O&&V()&&!D("small")&&(0,a.jsx)(ee,{onFavoriteClicked:R,onUnfavoriteClicked:W,isFavorite:z},"add-remove-favorite")||void 0,storyId:t,canEdit:!!d,canShowEditButtonNudge:S.canShowEditButtonNudge,publishIndicator:(0,a.jsx)(Z.Z,{sharingLevel:n,mode:S.publishStatus,itemType:I,type:"indicator",indicatorClassName:p()("indicator-container",te.className)}),onEmbedClicked:X?J:void 0,storyType:I,mode:N,itemHref:S.itemHref,location:T}),(0,a.jsx)(C.Z,{storyId:t,storyType:I,onModalClose:J,isModalOpen:B,canHideHeader:S.isOrgItem}),te.styles,(0,a.jsx)(c(),{id:"ed2f3967072c1399",dynamic:[g.ZP.gapped({direction:"horizontal",gap:m.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"})],children:".item-viewer-actions-container.__jsx-style-dynamic-selector{".concat(g.ZP.gapped({direction:"horizontal",gap:m.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),";}")})]}):null}},48574:function(e,t,n){var o=n(90581),r=n(21218),i=n(39309),a=n(52322),s=n(2784),c=n(72779),l=n.n(c),d=n(27587),p=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){var e;return(0,o.Z)(this,n),(e=t.apply(this,arguments)).handleDrop=function(e){e.stopPropagation(),e.preventDefault()},e.handleDragOver=function(e){e.stopPropagation(),e.preventDefault()},e}return n.prototype.render=function(){var e=l()("page-container",this.props.className);return(0,a.jsxs)("div",{id:"storymaps-root",className:e,onDragOver:this.handleDragOver,onDrop:this.handleDrop,translate:this.props.translate,children:[(0,a.jsx)(d.Z,{}),this.props.children]})},n}(s.PureComponent);t.Z=p},50331:function(e,t,n){var o=n(90581),r=n(21218),i=n(70865),a=n(96670),s=n(39309),c=n(52322),l=n(19702),d=n.n(l),p=n(2784),u=n(89274),h=n(50336),m=n(45345),g=n(37873),f=n(60508),y=n(39010),b=n(32575),x=n(77104),v=n(71216),Z=n(18288),C=n(75117),j=n(82930),w=n(2715),k=function(e){(0,r.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}var l=n.prototype;return l.componentDidMount=function(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:Number((0,h.wA)(C.g))}})},l.componentDidUpdate=function(e){if(this.props.storyDesign.themeVariables.headerFooterBackgroundColor!==e.storyDesign.themeVariables.headerFooterBackgroundColor){var t=(0,b.nA)(this.props.storyDesign.themeVariables.headerFooterBackgroundColor);this.props.websiteDesign.updateWebsiteTheme(t)}},l.componentWillUnmount=function(){this.props.appOffset.updateAppOffsetValues({top:{storyHeader:0}})},l.render=function(){return(0,c.jsx)(j.Z,(0,a.Z)((0,i.Z)({},this.props),{children:(0,c.jsxs)("div",{className:d().dynamic([["e1f160073ccc8781",[m.ZP.gapped({direction:"horizontal",gap:g.Z.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" start-content",children:[this.props.isOrgItem?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(x.Z,{}),(0,c.jsx)("button",{"aria-label":this.props.intl.formatMessage({id:"component.autoplay.returnToTop"}),onClick:this.props.onTitleClicked,className:d().dynamic([["e1f160073ccc8781",[m.ZP.gapped({direction:"horizontal",gap:g.Z.spacing.xxs,alignItems:"center",justifyContent:"center"})]]])+" inherit",children:(0,c.jsx)(w.Z,{title:this.props.title})})]}):this.props.appLogo,(0,c.jsx)(d(),{id:"e1f160073ccc8781",dynamic:[m.ZP.gapped({direction:"horizontal",gap:g.Z.spacing.xxs,alignItems:"center",justifyContent:"center"})],children:".start-content.__jsx-style-dynamic-selector{".concat(m.ZP.gapped({direction:"horizontal",gap:g.Z.spacing.xxs,alignItems:"center",justifyContent:"center"}),";}button.inherit.__jsx-style-dynamic-selector{color:inherit;text-align:inherit}")})]})}))},n}(p.Component);t.Z=(0,Z.Jh)((0,u.ZP)((0,f.VO)((0,v.Fv)((0,y.EL)(k)))))},2715:function(e,t,n){var o=n(90581),r=n(21218),i=n(39309),a=n(52322),s=n(19702),c=n.n(s),l=n(2784),d=n(89274),p=n(45345),u=n(71216),h=n(60120),m=n(52641),g=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return n.prototype.render=function(){var e=(0,m.ds)({itemType:this.props.itemType,title:this.props.title,formatMsg:this.props.intl.formatMessage});return(0,a.jsxs)("div",{className:c().dynamic([["8df6ae40c7827b91",[p.ZP.overflowWrap(),this.props.storyDesign.themeVariables.mixins.typography.body.size.stepDown1({lineClamp:{numLines:2,fit:!0}})]]])+" story-title",children:[e,(0,a.jsx)(c(),{id:"8df6ae40c7827b91",dynamic:[p.ZP.overflowWrap(),this.props.storyDesign.themeVariables.mixins.typography.body.size.stepDown1({lineClamp:{numLines:2,fit:!0}})],children:".story-title.__jsx-style-dynamic-selector{".concat(p.ZP.overflowWrap(),"\n            ").concat(this.props.storyDesign.themeVariables.mixins.typography.body.size.stepDown1({lineClamp:{numLines:2,fit:!0}}),"\n          }")})]})},n}(l.Component);g.defaultProps={itemType:h.o.Story},t.Z=(0,d.ZP)((0,u.Fv)(g))},82930:function(e,t,n){n.d(t,{Z:function(){return z}});var o=n(90581),r=n(21218),i=n(39309),a=n(52322),s=n(19702),c=n.n(s),l=n(2784),d=n(72779),p=n.n(d),u=n(45345),h=n(37873),m=n(22045),g=n(91016),f=n(70121),y=n(60508),b=n(39010),x=n(17236),v=n(43438),Z=n(99939),C=n(71216),j=n(75117),w=n(18288),k=n(83768),P=n(34020),_=n(78734),I=n(14979),N=n(61355),T=n(75848),S=n(27480),F=n(9920),L=n(60120),D=n(2305),H=n(28888),O=function(e){var t=(0,C.XL)(),n=(0,b.Fj)().theme,o=(0,D.Z)(),r=(0,H.O)({themeVariables:t,websiteTheme:n}),i={styles:(0,a.jsx)(c(),{id:"40bca754d985c7b3",dynamic:[r.foregroundColor,r.backgroundColor,r.hoverBackgroundColor,r.activeForegroundColor,r.activeBackgroundColor,r.separatorColor],children:".edit-btn.themed.__jsx-style-dynamic-selector>*{color:".concat(r.foregroundColor,";background-color:").concat(r.backgroundColor,"}.edit-btn.themed.__jsx-style-dynamic-selector:not(.disabled):hover>*{background-color:").concat(r.hoverBackgroundColor,"}.edit-btn.themed.__jsx-style-dynamic-selector:not(.disabled):is(:active,.active,.active:hover)>*{color:").concat(r.activeForegroundColor,";background-color:").concat(r.activeBackgroundColor,"}.edit-btn.themed.disabled.__jsx-style-dynamic-selector>*{color:").concat(r.separatorColor,"}")}),className:c().dynamic([["40bca754d985c7b3",[r.foregroundColor,r.backgroundColor,r.hoverBackgroundColor,r.activeForegroundColor,r.activeBackgroundColor,r.separatorColor]]])},s=o(e.storyType===L.o.Story?"component.viewerHeader.edit":"component.myCollections.builder.edit");return(0,a.jsx)(N.Z,{tooltipContent:s,children:(0,a.jsx)(F.e,{routeDef:{route:"builder",itemId:e.storyId,itemType:e.storyType},children:(0,a.jsxs)(T.ZP,{type:"single-icon",className:p()("edit-btn themed",i.className),ariaLabel:s,children:[(0,a.jsx)(S.Z,{path:I.YVc,size:16}),i.styles]})},"edit")})},A=function(e){(0,r.Z)(n,e);var t=(0,i.Z)(n);function n(e){var r;return(0,o.Z)(this,n),(r=t.call(this,e)).renderItemViewerActions=function(){return(0,a.jsx)(P.Z,{title:r.props.title,storyId:r.props.storyId,publishStatus:r.props.publishStatus,sharingLevel:r.props.sharingLevel,canEdit:r.props.canEdit,canShowEditButtonNudge:r.props.canShowEditButtonNudge,isOrgItem:r.props.isOrgItem,areSocialIconsHidden:r.props.areSocialIconsHidden,isContextMenuHidden:r.props.isContextMenuHidden,onFavoriteClicked:r.props.onFavoriteClicked,onUnfavoriteClicked:r.props.onUnfavoriteClicked,storyType:r.props.storyType,itemHref:r.props.itemHref,mode:r.props.mode,socialSharingTooltipId:r.props.socialSharingTooltipId,location:"header"})},r.renderEndContent=function(){var e="header"===r.props.config.VIEWER_ACTIONS_LOCATION||r.props.shouldDisplayActionButtonsInHeader,t=!(0,x.xR)()&&!e&&r.props.canEdit&&r.props.isViewportMinWidth("large");return(0,a.jsxs)("div",{className:c().dynamic([["377a63b2a0074c3d",[u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"})]]])+" end-content",children:[e&&r.renderItemViewerActions(),t&&(0,a.jsx)(O,{storyId:r.props.storyId,storyType:r.props.storyType}),r.props.authManager?r.renderSignedInActions():r.props.signedOutUI,(0,a.jsx)(c(),{id:"377a63b2a0074c3d",dynamic:[u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"})],children:".end-content.__jsx-style-dynamic-selector{".concat(u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.xxxs,alignItems:"center",justifyContent:"center"}),";}body.print .end-content.__jsx-style-dynamic-selector{display:none}")})]})},r.renderSignedInActions=function(){if(r.props.isViewportMaxWidth("medium")||!r.state.isMounted)return null;var e=(0,x.xR)();return!r.props.isAvatarHidden&&!e&&r.props.mode&&"preview"!==r.props.mode&&"embedded-preview"!==r.props.mode&&(0,a.jsx)("div",{className:"profile-container",children:r.props.avatar})},r.state={isMounted:!1},r}var s=n.prototype;return s.componentDidMount=function(){this.setState({isMounted:!0})},s.render=function(){var e="1px",t=this.props.isOrgItem&&!this.props.storyContext.storyLogo,n=(0,H.O)({themeVariables:this.props.storyDesign.themeVariables,websiteTheme:this.props.websiteDesign.theme}),o=n.foregroundColor,r=n.backgroundColor,i=n.separatorColor;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{role:"banner",className:c().dynamic([["8e3166f8dd36b410",[this.props.topOffset,this.props.appOffset.left,this.props.appOffset.right,o,r,e,i,u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.sm,alignItems:"center",justifyContent:"space-between"}),j.g,e,m._.userIsNotTabbing,h.Z.print.textColor,h.Z.print.backgroundColor,h.Z.spacing.xxs,j.g,t?"none":"block"]]])+" "+(p()("viewer-header",{disabled:this.props.disabled})||""),children:(0,a.jsx)(g.Z,{children:(0,a.jsxs)("div",{className:c().dynamic([["8e3166f8dd36b410",[this.props.topOffset,this.props.appOffset.left,this.props.appOffset.right,o,r,e,i,u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.sm,alignItems:"center",justifyContent:"space-between"}),j.g,e,m._.userIsNotTabbing,h.Z.print.textColor,h.Z.print.backgroundColor,h.Z.spacing.xxs,j.g,t?"none":"block"]]])+" "+(p()("content",this.props.contentClassName)||""),children:[this.props.shouldShowSkipLink&&!(0,x.xR)()&&(0,a.jsx)(_.Z,{onClick:this.props.onSkipLink,shouldApplyStoryTheme:!0}),this.props.children,this.state.isMounted&&this.renderEndContent()]})})}),!this.props.printMode&&(0,a.jsx)("div",{className:c().dynamic([["8e3166f8dd36b410",[this.props.topOffset,this.props.appOffset.left,this.props.appOffset.right,o,r,e,i,u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.sm,alignItems:"center",justifyContent:"space-between"}),j.g,e,m._.userIsNotTabbing,h.Z.print.textColor,h.Z.print.backgroundColor,h.Z.spacing.xxs,j.g,t?"none":"block"]]])+" header-space"}),(0,a.jsx)(c(),{id:"8e3166f8dd36b410",dynamic:[this.props.topOffset,this.props.appOffset.left,this.props.appOffset.right,o,r,e,i,u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.sm,alignItems:"center",justifyContent:"space-between"}),j.g,e,m._.userIsNotTabbing,h.Z.print.textColor,h.Z.print.backgroundColor,h.Z.spacing.xxs,j.g,t?"none":"block"],children:".viewer-header.__jsx-style-dynamic-selector{position:fixed;top:".concat(this.props.topOffset,";left:").concat(this.props.appOffset.left,";right:").concat(this.props.appOffset.right,";z-index:99;color:").concat(o,";background-color:").concat(r,";border-bottom:").concat(e," solid ").concat(i,"}.viewer-header.disabled.__jsx-style-dynamic-selector{pointer-events:none}.content.__jsx-style-dynamic-selector{").concat(u.ZP.gapped({direction:"horizontal",gap:h.Z.spacing.sm,alignItems:"center",justifyContent:"space-between"}),";height:-webkit-calc(").concat(j.g," - ").concat(e,");height:-moz-calc(").concat(j.g," - ").concat(e,");height:calc(").concat(j.g," - ").concat(e,")}").concat(m._.userIsNotTabbing," .viewer-header.__jsx-style-dynamic-selector *:focus{outline:none}body.print .viewer-header.__jsx-style-dynamic-selector{position:relative;color:").concat(h.Z.print.textColor,";background-color:").concat(h.Z.print.backgroundColor,";padding:0 ").concat(h.Z.spacing.xxs,";-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.header-space.__jsx-style-dynamic-selector{height:").concat(j.g,"}body.print .viewer-header.__jsx-style-dynamic-selector,body.print .header-space.__jsx-style-dynamic-selector{display:").concat(t?"none":"block","}")})]})},n}(l.PureComponent);A.defaultProps={isAvatarHidden:!1};var z=(0,f.d2)((0,v.oh)((0,k.w)((0,C.Fv)((0,Z.Df)((0,w.Jh)((0,y.VO)((0,b.EL)(A))))))))},52641:function(e,t,n){n.d(t,{Pn:function(){return a},ds:function(){return i},eO:function(){return d},g2:function(){return s},tc:function(){return c}});var o=n(47842),r=n(60120),i=function(e){var t=e.itemType,n=e.title,i=e.isBuilderHeader,a=e.fallbackTitle,s=e.formatMsg;if(!n){var c;if(i)return s({id:(c={},(0,o.Z)(c,r.o.Story,"component.builderHeader.defaultTitle"),(0,o.Z)(c,r.o.Collection,"component.collections.emptyTitle"),(0,o.Z)(c,r.o.Theme,"component.themeBuilder.untitledTheme"),c)[t]});if(a)return a}return n},a=function(e,t){var n,o;if(t){var r=e.root,i=e.nodes[r];return{trackingId:(null===i||void 0===i||null===(n=i.config)||void 0===n?void 0:n.gaid)||"",consentMessage:(null===i||void 0===i||null===(o=i.config)||void 0===o?void 0:o.gaConsentMessage)||""}}},s=function(){return l(window.location.hash)},c=function(){window.history.replaceState(null,"",window.location.origin+window.location.pathname+window.location.search)},l=function(e){var t=e.substring(1).match(/(^|&)ref-([^?&]+)/);if(t)return t[2]},d=function(e,t){try{var n=new URL(e);if(!t)return e;var o="ref-".concat(t),r=n.hash;return n.hash=r?"".concat(r,"&").concat(o):o,n.href}catch(i){return""}}},42486:function(e,t,n){n.d(t,{J:function(){return s}});var o=n(70865),r=n(96670),i={node:{audio:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(75753)]).then(n.bind(n,75753))}},text:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(12125),n.e(97506)]).then(n.bind(n,97506))}},button:{load:function(){return Promise.all([n.e(92182),n.e(77163),n.e(61553),n.e(98547),n.e(48775)]).then(n.bind(n,48775))}},separator:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(913)]).then(n.bind(n,913))}},carousel:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(49890)]).then(n.bind(n,49890))}},gallery:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(14191)]).then(n.bind(n,14191))}},storycover:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(1922)]).then(n.bind(n,1922))}},immersive:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(4520)]).then(n.bind(n,4520))}},"immersive-slide":{load:function(){return Promise.all([n.e(48834),n.e(59540),n.e(77163),n.e(61553),n.e(9004),n.e(98547),n.e(87845),n.e(29540),n.e(24818),n.e(92512),n.e(37067),n.e(89489),n.e(39478)]).then(n.bind(n,5804))}},"immersive-narrative-panel":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(24192)]).then(n.bind(n,24192))}},tour:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(15710)]).then(n.bind(n,15710))}},"tour-place":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(52159)]).then(n.bind(n,52159))}},"tour-map":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(23007),n.e(59105)]).then(n.bind(n,59105))}},story:{load:function(){return Promise.all([n.e(48834),n.e(59540),n.e(77163),n.e(56495),n.e(61553),n.e(98547),n.e(67801),n.e(65525),n.e(44472),n.e(82078),n.e(11386)]).then(n.bind(n,11386))}},embed:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(24818),n.e(96618)]).then(n.bind(n,96618))}},image:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(71210)]).then(n.bind(n,71210))}},video:{load:function(){return Promise.all([n.e(48834),n.e(59540),n.e(77163),n.e(61553),n.e(98547),n.e(34730)]).then(n.bind(n,34730))}},expressmap:{load:function(){return Promise.all([n.e(49774),n.e(87285),n.e(48834),n.e(59540),n.e(77163),n.e(58448),n.e(44817),n.e(90791),n.e(37586),n.e(38167),n.e(32558),n.e(61553),n.e(98547),n.e(39642),n.e(60149),n.e(5964),n.e(73096),n.e(2012),n.e(23007),n.e(45743)]).then(n.bind(n,26214))}},webmap:{load:function(){return Promise.all([n.e(77163),n.e(3096),n.e(61553),n.e(98547),n.e(23007),n.e(30023)]).then(n.bind(n,30023))}},"thematic-map":{load:function(){return Promise.all([n.e(87285),n.e(77163),n.e(55758),n.e(27851),n.e(99545),n.e(4609),n.e(53835),n.e(11888),n.e(44817),n.e(88035),n.e(90791),n.e(37586),n.e(45299),n.e(38167),n.e(86722),n.e(61553),n.e(98547),n.e(23007),n.e(67144)]).then(n.bind(n,67144))}},credits:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(82078)]).then(n.bind(n,82078))}},attribution:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(79400)]).then(n.bind(n,79400))}},"action-button":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(89)]).then(n.bind(n,89))}},navigation:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(64139)]).then(n.bind(n,64139))}},swipe:{load:function(){return Promise.all([n.e(87285),n.e(77163),n.e(58448),n.e(44817),n.e(90791),n.e(37586),n.e(38167),n.e(61553),n.e(98547),n.e(73096),n.e(34650)]).then(n.bind(n,72327))}},collection:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(65525),n.e(50202)]).then(n.bind(n,50202))}},"collection-ui":{load:function(){return Promise.all([n.e(48834),n.e(59540),n.e(77163),n.e(61553),n.e(98547),n.e(317),n.e(13530),n.e(71732)]).then(n.bind(n,71732))}},"collection-cover":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(3139)]).then(n.bind(n,3139))}},"collection-nav":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(77814)]).then(n.bind(n,77814))}},"collection-item":{load:function(){return Promise.all([n.e(48834),n.e(59540),n.e(77163),n.e(61553),n.e(98547),n.e(40360)]).then(n.bind(n,40360))}},timeline:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(33280)]).then(n.bind(n,33280))}},"timeline-event":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(24197)]).then(n.bind(n,24197))}},"timeline-spacer":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(13344)]).then(n.bind(n,13344))}}},resource:{audio:{load:function(){return n.e(64362).then(n.bind(n,64362))}},image:{load:function(){return Promise.all([n.e(49774),n.e(22019)]).then(n.bind(n,22019))}},video:{load:function(){return n.e(33050).then(n.bind(n,33050))}},expressmap:{load:function(){return Promise.all([n.e(49774),n.e(48834),n.e(59540),n.e(39642),n.e(60149),n.e(5964),n.e(39318),n.e(49177)]).then(n.bind(n,28633))}},webmap:{load:function(){return n.e(87246).then(n.bind(n,87246))}},"story-theme":{load:function(){return Promise.all([n.e(49774),n.e(44244)]).then(n.bind(n,44244))}},"portal-item":{load:function(){return n.e(60449).then(n.bind(n,60449))}},"feature-layer":{load:function(){return n.e(49634).then(n.bind(n,49634))}},"thematic-map-dataset":{load:function(){return n.e(89029).then(n.bind(n,89029))}},"express-image-data":{load:function(){return n.e(34656).then(n.bind(n,34656))}},font:{load:function(){return Promise.resolve().then(n.bind(n,88233))}},"file-item":{load:function(){return n.e(73579).then(n.bind(n,73579))}}}},a={node:{globe:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(85681)]).then(n.bind(n,85681))}},"express-mapping":{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(7717)]).then(n.bind(n,7717))}},template:{load:function(){return Promise.all([n.e(77163),n.e(61553),n.e(98547),n.e(31030)]).then(n.bind(n,31030))}}},resource:{}},s=function(e){var t,s=i;return e.includeLabItems&&(s.node=(0,o.Z)({},s.node,a.node),s.resource=(0,o.Z)({},s.resource,a.resource)),(null===(t=e.featureDecisions)||void 0===t?void 0:t.TEMP_hasExperimentalTextEditor)&&(s=(0,r.Z)((0,o.Z)({},s),{node:(0,r.Z)((0,o.Z)({},i.node),{text:{load:function(){return Promise.all([n.e(77163),n.e(56495),n.e(61553),n.e(98547),n.e(67801),n.e(44472)]).then(n.bind(n,44472))}}})})),s}},94764:function(e,t,n){n.d(t,{p:function(){return p}});var o=n(90581),r=n(21218),i=n(70865),a=n(96670),s=n(39309),c=n(52322),l=n(2784),d=n(65716),p=function(e){return function(t){(0,r.Z)(l,t);var n=(0,s.Z)(l);function l(){return(0,o.Z)(this,l),n.apply(this,arguments)}return l.prototype.render=function(){var t=this;return(0,c.jsx)(d.W.Consumer,{children:function(n){return(0,c.jsx)(e,(0,a.Z)((0,i.Z)({},t.props),{collectionData:n.collectionData,collectionDisplay:n.collectionDisplay}))}})},l}(l.PureComponent)}},1924:function(e,t,n){n.d(t,{F:function(){return p}});var o=n(90581),r=n(21218),i=n(70865),a=n(96670),s=n(39309),c=n(52322),l=n(2784),d=n(18558),p=function(e){return function(t){(0,r.Z)(l,t);var n=(0,s.Z)(l);function l(){return(0,o.Z)(this,l),n.apply(this,arguments)}return l.prototype.render=function(){var t=this;return(0,c.jsx)(d.B.Consumer,{children:function(n){return(0,c.jsx)(e,(0,a.Z)((0,i.Z)({},t.props),{storyOffsetContext:n}))}})},l}(l.PureComponent)}},99466:function(e,t,n){n.d(t,{n:function(){return s},s:function(){return a}});var o=n(70865),r=n(96670),i=n(50211),a=function(e){(0,i.qQ)((0,r.Z)((0,o.Z)({},e),{name:"onboarding"}))},s=function(e){return(0,i.$o)((0,r.Z)((0,o.Z)({},e),{name:"onboarding"}))}},42258:function(e,t,n){n.d(t,{ir:function(){return h}});var o=n(98788),r=n(70865),i=n(66383),a=n(45680),s=n(99698),c=n(19601),l=n(84117),d=function(e){var t,n;return null===(t=Object.values(null!==(n=null===e||void 0===e?void 0:e.resources)&&void 0!==n?n:{}).find((function(e){return"story-theme"===e.type})))||void 0===t?void 0:t.data.themeItemId},p=function(){var e=(0,o.Z)((function(e){var t,n,o,r,i,s;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(t=e.themeItemId,n=e.storyItemData,o=e.authManager,r=e.portalHost,!(i=null!==t&&void 0!==t?t:d(n)))return[2,[]];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,c.L)({id:i,authManager:o,portalHost:r})];case 2:return[2,(s=a.sent()).unpublished?[void 0,i]:[s,i]];case 3:return a.sent(),[2,[void 0,i]];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,o.Z)((function(e){var t,n,o,r,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(t=e.themeItemId,n=e.storyItemData,o=e.authManager,r=e.portalHost,!(i=null!==t&&void 0!==t?t:d(n)))return[2,void 0];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,s.rV)(i,{authentication:o,portal:(0,l.Zl)(r,o)})];case 2:return[2,a.sent()];case 3:return a.sent(),[2,void 0];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,o.Z)((function(e){var t,n,o,s,c,l,d,h,m,g;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return t=e.themeItemId,n=e.storyItemData,o=e.authManager,s=e.skipDetails,c=e.portalHost,[4,Promise.all([p({themeItemId:t,storyItemData:n,authManager:o,portalHost:c}),s?void 0:u({themeItemId:t,storyItemData:n,authManager:o,portalHost:c})])];case 1:return l=i.Z.apply(void 0,[a.sent(),2]),d=(0,i.Z)(l[0],2),h=d[0],m=d[1],g=l[1],[2,(0,r.Z)({},m&&{id:m},h&&{data:h},g&&{title:null===g||void 0===g?void 0:g.title,owner:null===g||void 0===g?void 0:g.owner})]}}))}));return function(t){return e.apply(this,arguments)}}()},27587:function(e,t,n){var o=n(52322),r=n(2784),i=n(9518),a=n(78304),s=(0,r.memo)((function(){var e=(0,r.useRef)("clicking"),t=function(){"clicking"!==e.current&&(document[a.J].classList.remove(a.Z),e.current="clicking")};return(0,r.useEffect)((function(){return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}})),(0,o.jsx)(i.Z,{triggerKey:"Tab",on:function(){"tabbing"!==e.current&&(document[a.J].classList.add(a.Z),e.current="tabbing")}})}));t.Z=s}}]);